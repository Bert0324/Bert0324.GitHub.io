particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:1600}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#000000",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0});const checkFacebookAvailable=()=>new Promise((e,t)=>{const n=new Image;n.src="https://www.facebook.com/images/facebook.png",n.onerror=e=>t(e),n.onload=()=>e(),n.style.display="none",body.append(n),setTimeout(()=>t(),5e3)}),body=document.getElementsByClassName("markdown-body")[0],initComments=()=>{["/","/index.html","/blog/index.html","/blog/code.html","/blog/leetcode.html","/blog/essay.html","/blog/about.html"].includes(window.location.pathname)||checkFacebookAvailable().then(()=>{const e=document.createElement("div");e.id="fb-root",e.className="post-comments";const t=document.createElement("div");t.className="fb-comments",t.setAttribute("data-href",window.location.href),t.setAttribute("data-numposts","5"),t.setAttribute("data-width","100%"),e.appendChild(t),body.appendChild(e)}).catch(()=>{const e=document.createElement("div");e.className="reminder",e.innerText="Facebook Comments Service is unavailable",body.appendChild(e)})},changeComments=()=>{var e=body.getElementsByTagName("h1")[0];e&&(document.title=e.innerText)};body&&(changeComments(),initComments()),(window.requestIdleCallback||setTimeout)(()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0SEZ9KRGY7")});const debounce=(t,n)=>{let o=null;return(...e)=>{clearTimeout(o),o=setTimeout(()=>t(...e),n)}},catchInput=(t,n)=>{const e=debounce(()=>{var e=t.value;e&&n(e)},200);let o=!1;t.addEventListener("input",()=>{o||e()}),t.addEventListener("compositionstart",()=>{o=!0}),t.addEventListener("compositionend",()=>{o=!1,e()})};let loading=!1;const separator="---",highlightKey="highlight";let searchFunc;const input=document.querySelector(".search-input"),dropdown=document.querySelector(".dropdown-container"),findDropdownCell=e=>Array.from(e.classList).includes("search-dropdown-cell-container")?e:Array.from(e.classList).includes("search-dropdown")?void 0:findDropdownCell(e.parentElement),chooseCb=e=>{Array.from(dropdown.children).forEach(e=>{e.style.backgroundColor=""});const t=findDropdownCell(e.target);t&&(t.style.backgroundColor="#ecebeb")};input.addEventListener("click",async()=>{if(searchFunc||loading)searchFunc&&2<input.value.length&&searchFunc(input.value);else{loading=!0;var e=JSON.parse(await(await fetch("/blog/search.json")).text());const o=new FlexSearch({doc:{id:"key",field:["title","content","key"]},encode:!1,tokenize:function(e){return e.replace(/[\x00-\x7F]/g,"").split("")}}).add(Object.entries(e).reduce((n,[o,a])=>(a.content.split("\n").forEach((e,t)=>{n.push({key:`${o}${separator}${t}`,content:e,title:a.title})}),n),[])),a=new FlexSearch({doc:{id:"key",field:["title","content","key"]}}).add(Object.entries(e).reduce((n,[o,a])=>(a.content.split("\n").forEach((e,t)=>{n.push({key:`${o}${separator}${t}`,content:e,title:a.title})}),n),[]));document.querySelector(".search-input").addEventListener("blur",()=>{setTimeout(()=>{},100)}),dropdown.addEventListener("mouseover",chooseCb),searchFunc=e=>{const n=[...a.search(e),...o.search(e)],t=Array.from(new Set(n.map(({title:e})=>e))).map(t=>n.find(e=>e.title===t));dropdown.innerHTML=t.map(({key:e,content:t,title:n})=>`<div class='search-dropdown-cell-container'><a href=${`${window.location.origin}/blog/${e.split(separator)[0]}?${highlightKey}=${encodeURIComponent(t)}`}><div class='search-dropdown-cell'><div class='search-dropdown-content'>${t}</div> <div class='search-dropdown-title'>- ${n}</div></div></a></div>`).join(""),dropdown.style.display="",document.querySelector(".search-dropdown").style.overflowX="scroll"},loading=!1}}),catchInput(input,e=>{searchFunc&&2<e.length&&searchFunc(e)});const checkHightLight=()=>{const e=new URLSearchParams(window.location.search),t=e.get(highlightKey);if(t){const n=Array.from(document.querySelectorAll(".post-article *")).filter(e=>(e.textContent||"").toLowerCase().includes(t.toLowerCase())),o=n.sort((e,t)=>e.textContent.length-t.textContent.length).shift();o&&(o.style.backgroundColor="yellow",o.scrollIntoView())}};checkHightLight();